<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>03 C语言-指针 | Hexo</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description" content="指针是C语言的灵魂 什么是指针?变量的地址就是指针 指针变量1. 不管是个什么东西,首先他是一个变量.指针变量就是专门用来存储地址的变量, 专门用来存储另一个变量地址的. 那么我们就说,这个指针变量指向另外一个变量 2. 这么做的好处访问一个变量的方式有两种:  直接访问  12int num &#x3D; 10;num &#x3D; 20;   &#x2F;&#x2F; 直接访问这个num变量,并重新赋值   间接访问  12&#x2F;&#x2F; 可">
<meta property="og:type" content="article">
<meta property="og:title" content="03 C语言-指针">
<meta property="og:url" content="http://example.com/2020/09/20/03%20C%E8%AF%AD%E8%A8%80-%E6%8C%87%E9%92%88-03c%E8%AF%AD%E8%A8%80-%E6%8C%87%E9%92%88/index.html">
<meta property="og:site_name" content="Hexo">
<meta property="og:description" content="指针是C语言的灵魂 什么是指针?变量的地址就是指针 指针变量1. 不管是个什么东西,首先他是一个变量.指针变量就是专门用来存储地址的变量, 专门用来存储另一个变量地址的. 那么我们就说,这个指针变量指向另外一个变量 2. 这么做的好处访问一个变量的方式有两种:  直接访问  12int num &#x3D; 10;num &#x3D; 20;   &#x2F;&#x2F; 直接访问这个num变量,并重新赋值   间接访问  12&#x2F;&#x2F; 可">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://i.loli.net/2021/09/18/1bisPQ9wk4DlKx3.png">
<meta property="article:published_time" content="2020-09-19T18:16:23.000Z">
<meta property="article:modified_time" content="2021-11-08T19:52:43.181Z">
<meta property="article:author" content="John Doe">
<meta property="article:tag" content="指针">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://i.loli.net/2021/09/18/1bisPQ9wk4DlKx3.png">
  
  <link rel="stylesheet" href="//cdn.bootcss.com/highlight.js/9.2.0/styles/github.min.css">
  <script src="//cdn.bootcss.com/highlight.js/9.2.0/highlight.min.js"></script>
  <script>
    document.addEventListener('DOMContentLoaded', (event) => {
      document.querySelectorAll('pre code').forEach((block) => {
        hljs.highlightBlock(block);
      });
    });
  </script>
  
<link rel="stylesheet" href="/css/index.css">

<meta name="generator" content="Hexo 6.3.0"></head>

<body style="


  background-color: #eff0f6

">
  <div id="container">
    <nav id="nav">
  <header class="header">
    <a href="/" class="title">Clover Tuan</a>
  </header>
  <div class="ctnWrap">
    <div class="icons">
      
        
          
            <a href="https://dribbble.com/clovertuan" target="_blank" class="nav-icn iconfont icon-dribbble"></a>
          
        
          
            <a href="https://www.behance.net/clovertuan" target="_blank" class="nav-icn iconfont icon-behance"></a>
          
        
          
            <a href="http://clovertuan.lofter.com/" target="_blank" class="nav-icn iconfont icon-lofter"></a>
          
        
          
            <a href="https://www.instagram.com/clovertuan/" target="_blank" class="nav-icn iconfont icon-instagram"></a>
          
        
          
            <a href="https://github.com/cloverTuan" target="_blank" class="nav-icn iconfont icon-github"></a>
          
        
      
    </div>
    <div class="menu">
      
        
            <a href="/" class="nav-menu ">HOME</a>
          
        
            <a href="/archives" class="nav-menu ">ARCHIVE</a>
          
        
            <a href="/about" class="nav-menu ">ABOUT</a>
          
        
      
    </div>
  </div>
</nav>
    <div id="main"><section class="article">
  <h2 class="title">03 C语言-指针</h2>
  <p class="sub">Sep 20, 2020</p>
  <article class="content">
    <p>指针是C语言的灵魂</p>
<h2 id="什么是指针"><a href="#什么是指针" class="headerlink" title="什么是指针?"></a>什么是指针?</h2><p>变量的地址就是指针</p>
<h2 id="指针变量"><a href="#指针变量" class="headerlink" title="指针变量"></a>指针变量</h2><h3 id="1-不管是个什么东西-首先他是一个变量"><a href="#1-不管是个什么东西-首先他是一个变量" class="headerlink" title="1. 不管是个什么东西,首先他是一个变量."></a>1. 不管是个什么东西,首先他是一个变量.</h3><p>指针变量就是专门用来存储地址的变量, 专门用来存储另一个变量地址的.</p>
<p>那么我们就说,这个指针变量指向另外一个变量</p>
<h3 id="2-这么做的好处"><a href="#2-这么做的好处" class="headerlink" title="2. 这么做的好处"></a>2. 这么做的好处</h3><p>访问一个变量的方式有两种:</p>
<ol>
<li>直接访问</li>
</ol>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> num = <span class="number">10</span>;</span><br><span class="line">num = <span class="number">20</span>;   <span class="comment">// 直接访问这个num变量,并重新赋值</span></span><br></pre></td></tr></table></figure>

<ol start="2">
<li>间接访问</li>
</ol>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 可以通过指针变量找到这个指针变量指向的变量</span></span><br><span class="line"><span class="comment">// 通过指针变量就可以间接地访问这个指向的变量</span></span><br></pre></td></tr></table></figure>

<h3 id="3-如何声明一个专门用来存储地址的指针变量呢"><a href="#3-如何声明一个专门用来存储地址的指针变量呢" class="headerlink" title="3. 如何声明一个专门用来存储地址的指针变量呢?"></a>3. 如何声明一个专门用来存储地址的指针变量呢?</h3><ol>
<li>我们之前学习的普通变量声明方式</li>
</ol>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 数据类型 变量名;</span></span><br><span class="line"><span class="type">int</span> num;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li>声明指针变量的语法</li>
</ol>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 数据类型* 指针变量名称;</span></span><br><span class="line"><span class="type">int</span>* p1;</span><br><span class="line"><span class="comment">// 代表声明了一个指针变量, 这个指针变量的名字叫做p1. </span></span><br><span class="line"><span class="comment">// 这个指针变量的类型是 int* 读作int指针</span></span><br><span class="line"><span class="comment">// 这个*代表这个变量不是一个普通变量,而是一个用来存储地址的指针变量</span></span><br><span class="line"><span class="comment">// 这个p1指针变量中只能存储地址</span></span><br><span class="line"><span class="type">int</span>* p1;</span><br><span class="line"><span class="type">double</span>* p2;</span><br><span class="line"><span class="type">float</span>* p3;</span><br><span class="line"><span class="type">char</span>* p4;</span><br><span class="line"><span class="comment">// 指针的类型: 有哪些普通的类型就可以有哪些指针的类型</span></span><br></pre></td></tr></table></figure>

<ol start="3">
<li>指针变量是用来存储另一个变量的地址的</li>
</ol>
<p>​	但是一个指针变量并不是刻意存储任意类型的变量地址的. 而是有限定的</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 只能存储和这个指针类型相同的 普通变量的地址</span></span><br><span class="line"><span class="type">int</span> *p1;  <span class="comment">// 变量中只能存储int变量的地址</span></span><br><span class="line"><span class="type">double</span> *p2;   <span class="comment">// 变量中只能存储double类型的变量地址</span></span><br><span class="line"><span class="comment">// 否则会发生无法估计的错误</span></span><br></pre></td></tr></table></figure>

<h3 id="4-指针变量的初始化"><a href="#4-指针变量的初始化" class="headerlink" title="4. 指针变量的初始化"></a>4. 指针变量的初始化</h3><ol>
<li>指针变量是用来存储另外一个变量的地址的</li>
</ol>
<p>​	–&gt; 所以,我们不能直接复制 一个非地址的常量数据</p>
<p>​	–&gt; 所以我们也不能直接赋值一个变量给指针</p>
<ol start="2">
<li><p>指针是用来存储另一个变量的的地址. 并且指针可以存储的另一个变量的地址 这个变量的类型是限定的</p>
</li>
<li><p>正确的初始化步骤</p>
</li>
</ol>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 先取出变量的地址 &amp;变量名</span></span><br><span class="line"><span class="comment">// 然后赋值给指针变量</span></span><br><span class="line"><span class="type">int</span> num = <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> *p1 = &amp;num;</span><br><span class="line"><span class="comment">// 这时候p1的值就是num的地址, 我们就说p1指针指向了num这个变量</span></span><br></pre></td></tr></table></figure>

<h3 id="5-指针变量的使用"><a href="#5-指针变量的使用" class="headerlink" title="5. 指针变量的使用"></a>5. 指针变量的使用</h3><ol>
<li>指针变量中存储的是另一个变量的地址</li>
</ol>
<p>​	这么做的好处: 在于可以使用指针间接地操作指针指向的变量</p>
<ol start="2">
<li><p>Pointer. 建议声明指针变量的时候以p开头</p>
</li>
<li><p>使用指针间接地操作指针指向的变量</p>
</li>
</ol>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 格式: *指针变量名;  代表这个指针指向的变量</span></span><br><span class="line"><span class="type">int</span> num = <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> *p1 = &amp;num;</span><br><span class="line">*p1 = <span class="number">100</span>;</span><br><span class="line"><span class="comment">// *p1等价于num</span></span><br></pre></td></tr></table></figure>

<ol start="4">
<li>野指针</li>
</ol>
<p>​	我们声明一个指针变量,如果没有为其初始化,那么这个指针变量中是有值的, 垃圾值,随机数</p>
<p>​	这个时候,这个指针指向的激素hi一块随机空间.</p>
<p>​	这块空间:	可能无人使用	也有可能别的程序正在使用	也有可能系统在使用</p>
<p>​	这样的指针我们将其叫做野指针</p>
<ol start="5">
<li>NULL值</li>
</ol>
<p>​	我们声明一个指针,如果不初始化这个指针, 这个指针就是一个野指针, 就指向了一块随机空间,那么这个时候 如果你通过	这个指针访问指针指向的随机空的时候 是相当危险的.</p>
<p>​	如果是取值也就罢了,如果是进行赋值,就有可能造成某系程序崩溃</p>
<p>​	所以尽量在声明指针的时候进行初始化,如果暂时没有变量地址,可以将其初始化为NULL., NULL等价于0</p>
<h2 id="指针为什么要分类型"><a href="#指针为什么要分类型" class="headerlink" title="指针为什么要分类型"></a>指针为什么要分类型</h2><ol>
<li><p>指针分为很多类型</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>*;</span><br><span class="line"><span class="type">double</span>*;</span><br><span class="line"><span class="type">float</span>*;</span><br><span class="line"><span class="type">char</span>*;</span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">指针变量是一个变量, 既然是一个变量,那么就在内存中战友字节数</span></span><br><span class="line"><span class="comment">但是 无论什么类型的指针,在内存中都只占8个字节</span></span><br><span class="line"><span class="comment">既然如此,那么为什么指针还要分类型呢?</span></span><br><span class="line"><span class="comment">*/</span>    </span><br></pre></td></tr></table></figure>
</li>
<li><p>通过指针间接地操作指针指向白能量的方式</p>
</li>
</ol>
<h2 id="多级指针"><a href="#多级指针" class="headerlink" title="多级指针"></a>多级指针</h2><ol>
<li><p>一级指针</p>
<p>一个指针变量中存储的是一个普通变量的地址, 这样的指针,我们称之为一级指针</p>
<p>二级指针</p>
<p><img src="https://i.loli.net/2021/09/18/1bisPQ9wk4DlKx3.png" alt="Snipaste_2021-09-03_14-58-09"></p>
<p>三级指针</p>
<p>…</p>
</li>
<li><p>二级指针</p>
<ol>
<li><p>只能存储一级指针变量的地址,这样的指针叫做二级指针</p>
</li>
<li><p>声明二级指针的语法</p>
</li>
</ol>
<p>​	a. 声明一级指针: 数据类型 *指针名;</p>
<p>​	b. 声明二级指针: 数据类型 **指针名;</p>
<p>​	c. 声明三级指针: 数据类型 ***指针名;</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> num = <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> *p1 = &amp;num;</span><br><span class="line"><span class="type">int</span> **p2 = &amp;p1;</span><br><span class="line"><span class="type">int</span> ***p3 = &amp;p2;</span><br><span class="line"><span class="comment">// 一级指针只能存储普通变量的地址</span></span><br><span class="line"><span class="comment">// 二级指针只能存储一级指针变量的地址</span></span><br><span class="line"><span class="comment">// 三级指针只能存储二级指针变量的地址</span></span><br><span class="line"><span class="comment">// n级指针只能存储n-1级指针变量的地址</span></span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="指针与整数的加减运算"><a href="#指针与整数的加减运算" class="headerlink" title="指针与整数的加减运算"></a>指针与整数的加减运算</h2><ol>
<li><p>指针可以和整数进行加减运算</p>
<p>指针与整数进行加减运算</p>
<p>比如指针 + 1;</p>
<p>并不是在指针地址的基础上加上一个字节的地址, 而是在这个指针地址的基础上加上一个单位变量占用的字节数</p>
<p>如果指针的类型是 int* 	那么这个时候1 表示4个字节地址</p>
<p>如果指针的类型是 float* 	那么这个时候1 表示4个字节地址</p>
<p>如果指针的类型是 double* 	那么这个时候1 表示8个字节地址</p>
</li>
</ol>
<h2 id="使用指针遍历数组"><a href="#使用指针遍历数组" class="headerlink" title="使用指针遍历数组"></a>使用指针遍历数组</h2><ol>
<li>使用指针遍历数组的第一种方式</li>
</ol>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr[<span class="number">3</span>] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;</span><br><span class="line"><span class="type">int</span> *p1 = arr; <span class="comment">//p1指针指向的是数组第0个元素</span></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">3</span>;++i)&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,*(p1+i));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ol start="2">
<li><p>使用指针遍历数组的第二种方式</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr[<span class="number">3</span>] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">3</span>;++i)&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,*(arr+i));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
<li><p>使用指针遍历数组的第三种方式</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr[<span class="number">3</span>] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i=<span class="number">0</span>;i&lt;<span class="number">3</span>;++i)&#123;</span><br><span class="line">    <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>,*(p1++));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ol>
<h2 id="索引的本质"><a href="#索引的本质" class="headerlink" title="索引的本质"></a>索引的本质</h2><ol>
<li><p>指针变量后面可以使用中括弧,在中括弧中写下标可以访问数据</p>
</li>
<li><p>p1[n]; 前提是p1是一个指针变量</p>
<p>完全等价于 *(p1+n);</p>
</li>
<li><p>只要是指针都可以使用中括弧下标,相当于去访问指针指向的变量</p>
<p>操作数组我们虽然使用的总括弧下标来操作,实际上内部仍然使用的是指针来操作</p>
</li>
<li><p>重点</p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">   ```</span><br><span class="line"></span><br><span class="line">   </span><br><span class="line"></span><br><span class="line"># 注: </span><br><span class="line"></span><br><span class="line">&gt; 数组的内存地址 = 数组第<span class="number">0</span>个元素的内存地址</span><br><span class="line">&gt;</span><br><span class="line">&gt; 所以</span><br><span class="line">&gt;</span><br><span class="line">&gt; ```c</span><br><span class="line">&gt; <span class="type">int</span> arr[<span class="number">3</span>] = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;</span><br><span class="line">&gt; <span class="type">int</span> *p1 = &amp;arr[<span class="number">0</span>];</span><br><span class="line">&gt; <span class="type">int</span> *p2 = arr;</span><br><span class="line">&gt; <span class="comment">// *p1 和 *p2是完全等价的</span></span><br></pre></td></tr></table></figure></li>
</ol>
<blockquote>
</blockquote>

  </article>
  <footer class="f-cf">
    
      <a href="/2021/03/04/01%20%E7%AE%80%E6%98%93%E7%89%88%E6%9C%ACweb%E6%A1%86%E6%9E%B6-01%E7%AE%80%E6%98%93%E7%89%88%E6%9C%ACweb%E6%A1%86%E6%9E%B6/" class="link f-fl">⟵01 简易版本web框架</a>
    
    
      <a href="/2020/09/18/sem_post()%E5%92%8Csem_wait()%E4%BD%BF%E7%94%A8-sempost%E5%92%8Csemwait%E4%BD%BF%E7%94%A8md/" class="link f-fr">sem_post()和sem_wait()使用⟶</a>
    
  </footer>
</section></div>
    <footer id="footer" class="f-cf">
  d.guangying@foxmail.com
  
    
      
        · <a href="https://dribbble.com/clovertuan" target="_blank" class="nav-icn">Dribbble</a>
      
    
      
        · <a href="https://www.behance.net/clovertuan" target="_blank" class="nav-icn">Behance</a>
      
    
      
        · <a href="http://clovertuan.lofter.com/" target="_blank" class="nav-icn">Lofter</a>
      
    
      
        · <a href="https://www.instagram.com/clovertuan/" target="_blank" class="nav-icn">Instagram</a>
      
    
      
        · <a href="https://github.com/cloverTuan" target="_blank" class="nav-icn">GitHub</a>
      
    
  
  <span class="copyright">All rights reserved @Clover Tuan</span>
</footer>
  </div>
</body>
</html>